<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorator="index/common/layout">

<head th:replace="index/common/layout :: header('配送记录', '', '')"></head>

<th:block layout:fragment="script">
    <script th:src="@{/index/js/swiper/js/swiper.min.js}" type="text/javascript" charset="utf-8"></script>
    <script th:src="@{/index/js/DeliveryList.js}" type="text/javascript" charset="utf-8"></script>
</th:block>

<th:block layout:fragment="css">
    <link rel="stylesheet" type="text/css" th:href="@{/index/js/swiper/css/swiper.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/index/css/DeliveryList.css}"/>
</th:block>

<div layout:fragment="content">
    <!--main start-->
    <div class="main">
        <!-- 已发货 -->
        <th:block th:if="${info.status == 10}">
            <th:block th:each="info:${deliveryDtos}">

                <div class="order-item">
                    <p class="order-item-head">
					<span class="order-num">收货人：
						<th:block th:text="${info.contactName}"></th:block>
					</span>
                        <span class="order-price"
                              th:text="${enumLogic.GetDeliveryStatus(info.status).message}">已发货</span>
                    </p>
                    <th:block th:if="${!#lists.isEmpty(info.stockDto)}"
                              th:each="pro:${info.stockDto}">
                        <dl class="order-item-dl">
                            <th:block th:each="image:${productLogic.GetProductImgDtos(pro.productId)}">
                                <img th:src="${image.imgPath}"
                                     th:if="${image.productImgType eq enumLogic.GetProductImgType(0)}"
                                     width="100%"/>
                            </th:block>
                            <dd>
                                <h2 class="order-dd-name"
                                    th:text="${productLogic.GetProduct(pro.productId).productName}">越甲科技20寸旅行箱</h2>
                                <p class="order-dd-tips">共
                                    <th:block th:text="${pro.number}"></th:block>
                                    件
                                </p>
                                <p class="order-dd-time">申请配送时间:
                                    <th:block
                                            th:text="${dateUtils.formatDateByUnixTime(pro.createTime, 'yyyy-MM-dd HH:mm:ss')}"></th:block>
                                </p>
                            </dd>
                        </dl>
                    </th:block>
                    <div class="state-list clear">
                        <p class="state-list-p">
                            <a href="javascript:void(0);" class="look-btn">查看物流</a>
                            <a href="javascript:void(0);" class="confirm-btn">确认收货</a>
                        </p>
                    </div>
                </div>

            </th:block>
        </th:block>

        <!--未发货,已签收-->
        <th:block th:if="${info.status != 10}">
            <th:block th:each="info:${deliveryDtos}">

                <div class="order-item">
                    <p class="order-item-head">
                    <span class="order-num">收货人：
                        <th:block th:text="${info.contactName}"></th:block>
                    </span>
                        <span class="order-price"
                              th:text="${enumLogic.GetDeliveryStatus(info.status).message}">已发货</span>
                    </p>
                    <th:block th:if="${!#lists.isEmpty(info.stockDto)}"
                              th:each="pro:${info.stockDto}">
                        <dl class="order-item-dl">
                            <th:block th:each="image:${productLogic.GetProductImgDtos(pro.productId)}">
                                <img th:src="${image.imgPath}"
                                     th:if="${image.productImgType eq enumLogic.GetProductImgType(0)}"
                                     width="100%"/>
                            </th:block>
                            <dd>
                                <h2 class="order-dd-name"
                                    th:text="${productLogic.GetProduct(pro.productId).productName}">越甲科技20寸旅行箱</h2>
                                <p class="order-dd-tips">共
                                    <th:block th:text="${pro.number}"></th:block>
                                    件
                                </p>
                                <p class="order-dd-time">申请配送时间:
                                    <th:block
                                            th:text="${dateUtils.formatDateByUnixTime(pro.createTime, 'yyyy-MM-dd HH:mm:ss')}"></th:block>
                                </p>
                            </dd>
                        </dl>
                    </th:block>
                </div>

            </th:block>
        </th:block>
    </div>
    <!--main end-->
</div>
